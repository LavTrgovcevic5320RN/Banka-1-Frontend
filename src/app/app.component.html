<!-- Main page html that contains <A bar with title and logout button>, navigation bar and shows other pages. -->
<div class="app-container">

  <!-- Ribbon bar with A1 title, user credientals img and logout button. -->
  <mat-toolbar *ngIf="userIsLoggedIn()">
    <button mat-icon-button class="menu-button" (click)="toggleSideNav()">
      <mat-icon>menu</mat-icon>
    </button>
    <img class="logo" src="assets/logo.png" width="200px" alt=""/>
    <span class="remaining-space"></span>
    <div class="user-info">
      <div class="circle">{{ userInitials }}</div>
      <span color="warn"  (click)="logout()" *ngIf="userIsLoggedIn()" class="logout-button">Logout</span>
      <span color="warn"   [routerLink]="'login'" *ngIf="!userIsLoggedIn()" class="logout-button">Login</span>
    </div>
  </mat-toolbar>

  <!-- Navigation side bar. -->
  <mat-sidenav-container class="sidenav-container" >
    <mat-sidenav #sidenav mode="side" class="sidenav" *ngIf="userIsLoggedIn()">

      <!-- Navigation button to Welcome page. -->
      <div class="sidebar-btn" [routerLink]="'/welcome'" >
        <img src="assets/admin.png"/>
        <span>Welcome</span>
      </div>

      <!-- Navigation button to Admin panel page. -->
      <div class="sidebar-btn" [routerLink]="'/user/list'" *ngIf="isAdmin" >
        <img src="assets/admin.png" />
        <span>Admin panel</span>
      </div>

      <div class="sidebar-btn" (click)="togglePaymentsSubMenu()"*ngIf="isCustomer">
        <img src="assets/security.png"/>
         <span>Payments</span>
     </div>

     <div *ngIf="showPaymentsSubMenu">
      <div class="sidebar-btn" [routerLink]="'/payment/overview'">
      <img src="assets/security.png"/>
      <span>Overview</span>
    </div>
     </div>
 
     

      <div class="sidebar-btn" [routerLink]="'/customer/all'" *ngIf="isAdmin">
        <img src="assets/admin.png"/>
        <span>Customer</span>
      </div>

      <!-- Navigation button to Securities page. -->
      <div class="sidebar-btn" [routerLink]="'/security/all'"  *ngIf="isAdmin || isEmployee">
        <img src="assets/security.png"/>
        <span>Securities</span>
      </div>

      <!-- Navigation button to Bank accounts page. -->
      <div class="sidebar-btn" [routerLink]="'/bank-accounts'" *ngIf="isCustomer">
        <img src="assets/admin.png"/>
        <span>Bank accounts</span>
      </div>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <div class="sidebar-btn" *ngIf="isCustomer">
                <img src="assets/admin.png"/>
                <span>Customer</span>
              </div>
            </mat-panel-title>
          </mat-expansion-panel-header>
            <!-- Add more sub-buttons for customer actions if needed -->
          <div>
            <div class="sidebar-btn" [routerLink]="'/payment'">
              <span>New payment</span>
            </div>
            <div class="sidebar-btn" [routerLink]="'/exchange'">
              <span>Exchange</span>
            </div>
            <div class="sidebar-btn" [routerLink]="''">
              <span>Recients</span>
            </div>
            <div class="sidebar-btn" [routerLink]="''">
              <span>Overview</span>
            </div>         
          </div>
        </mat-expansion-panel>

      <!-- Navigation button to Card page. -->
      <div class="sidebar-btn" [routerLink]="'/cards'" *ngIf="isCustomer">
        <img src="assets/admin.png"/>
        <span>Cards</span>
      </div>

      <!-- Navigation button to Receipient page. -->
      <div class="sidebar-btn" [routerLink]="'/recipients'" *ngIf="isCustomer">
        <img src="assets/admin.png"/>
        <span>Recipients</span>
      </div>

      <!-- <div class="sidebar-btn" [routerLink]="'/transaction'" *ngIf="checkIsCustomerAndBankAccounts()">
        <img src="assets/security.png"/>
        <span>Transaction</span>
      </div>

      <div class="sidebar-btn" [routerLink]="'/exchange-rate'" *ngIf="isCustomer">
        <img src="assets/security.png"/>
        <span>Exchange rate</span>
      </div> -->

      <div class="sidebar-btn" [routerLink]="'/loans'" *ngIf="isCustomer">
        <img src="assets/loan-icon.svg" height="50px" width="64px"/>
        <span>Loans</span>
      </div>

    </mat-sidenav>

    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

